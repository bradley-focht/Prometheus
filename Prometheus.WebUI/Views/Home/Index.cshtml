@using Common.Enums.Permissions
@{
	ViewBag.Title = "Home";
	ViewBag.Links = null;
	Layout = "~/Views/Shared/_BasicLayout.cshtml";
}

<div class="panel-primary">
	<div class="panel-heading" style="margin-top: -6px; width: 960px;">
		<h1>Prometheus IT Service Management</h1>
	</div>
	<div class="panel-body" style="background-color: #eef2f7;">
		<div class="content-body">
			<div class="flex-container-col flex-container-centre">

				<div class="flex-container-row">


					<div class="flex-col content-cell" id="ServiceCatalog" style="display: none;">
						<div style="height: 80px;">
							<a href="@Url.Action("Index", "ServiceCatalog")"><img src="~/Content/Images/presentation.png" alt="Service Catalog" style="height: 72px; width: 77px;"></a>
						</div>
						<div>@Html.ActionLink("Service Catalog", "Index", "ServiceCatalog", null, new { @class = "font-home-link" })</div>
					</div>

					<div class="flex-col content-cell" id="MyRequests" style="display: none;">
						<div style="height: 80px;">
							<a href="@Url.Action("Index", "ServiceRequestApproval")"><img src="~/Content/Images/shake.png" alt="Request Approvals" style="height: 70px; width: 88px;"></a>
						</div>
						@Html.ActionLink("My Requests", "Index", "ServiceRequestApproval", null, new { @class = "font-home-link" })

					</div>

					<div class="flex-col content-cell" id="ServiceDetails" style="display: none;">
						<div style="height: 80px;">
							<a href="@Url.Action("Index", "Service")"><img src="~/Content/Images/pie.png" alt="Services" style="height: 68px; width: 69px;"></a>
						</div>
						<div>@Html.ActionLink("Services", "Index", "Service", null, new { @class = "font-home-link" })</div>
					</div>

					<div class="flex-col content-cell" id="ServicePortfolio" style="display: none;">
						<div style="height: 80px;">
							<a href="@Url.Action("Index", "ServicePortfolio")"><img src="~/Content/Images/invest.png" alt="Service Portfolio" style="height: 72px; width: 77px;"></a>
						</div>
						<div>@Html.ActionLink("Service Portfolio", "Index", "ServicePortfolio", null, new { @class = "font-home-link" })</div>
					</div>

				</div>

				<div class="flex-container-row">
					<div class="flex-col content-cell" id="RequestMaintenance" style="display: none;">
						<div style="height: 80px;">
							<a href="@Url.Action("Index", "ServiceRequestMaintenance")"><img src="~/Content/Images/pad.png" alt="Service " style="height: 90px; width: 74px;"></a>
						</div>
						<div>@Html.ActionLink("Request System Maintenance", "Index", "ServiceRequestMaintenance", null, new { @class = "font-home-link" })</div>
					</div>

					<div class="flex-col content-cell" id="SystemAccess" style="display: none;">
						<div style="height: 80px;">
							<a href="@Url.Action("Index", "SystemAccess")"><img src="~/Content/Images/people-network.png" alt="System Access" style="height: 80px; width: 74px;"></a>
						</div>
						<div>@Html.ActionLink("System Access", "Index", "SystemAccess", null, new { @class = "font-home-link" })</div>
					</div>

					<div class="flex-col content-cell" id="ServiceMaintenance" style="display: none;">
						<div style="height: 80px;">
							<a href="@Url.Action("Index", "ServiceMaintenance")">
								<img src="~/Content/Images/stack.png" alt="Service Maintenance" style="height: 70px; width: 75px;" />
							</a>
						</div>
						<div>@Html.ActionLink("Services Maintenance", "Index", "ServiceMaintenance", null, new { @class = "font-home-link" })</div>
					</div>

					<div class="flex-col content-cell" id="ScriptMaintenance" style="display: none;">
						<div style="height: 80px;">
							<a href="@Url.Action("Index", "Script")">
								<img src="~/Content/Images/globe.png" alt="Script Maintenance" style="height: 71px; width: 71px;" />
							</a>
						</div>
						<div>@Html.ActionLink("Script Handling", "Index", "Script", null, new { @class = "font-home-link" })</div>
					</div>

				</div>
			</div>
		</div>
	</div>
	<div class="panel-footer">
		<span class="copyright-notice">&copy;2017 Prometheus</span>
	</div>
</div>

<script type="text/javascript" language="javascript">
	$.when(
	$.get({
		url: '/UserAccount/HasBusinessCatalogPermision/@(BusinessCatalog.CanViewCatalog)',
		success: function () {
			document.getElementById('ServiceCatalog').style.display = 'block';
		}
	}),

	$.get({
		url: '/UserAccount/HasSupportCatalogPermission/@(SupportCatalog.CanViewCatalog)',
		success: function () {
			document.getElementById('ServiceCatalog').style.display = 'block';
		}
	}),
	$.get({
		url: '/UserAccount/HasMyRequestsPermission/@(ServiceRequestSubmission.CanSubmitRequests)',
		success: function () {
			document.getElementById('MyRequests').style.display = 'block';
		}
	}),
	$.get({
		url: '/UserAccount/HasServiceDetailsPermission/@(ServiceDetails.CanViewServiceDetails)',
		success: function () {
			document.getElementById('ServiceDetails').style.display = 'block';
		}
	}),
	$.get({
		url: '/UserAccount/HasServicePortfolioPermission/@(ServicePortfolio.CanView)',
		success: function () {
			document.getElementById('ServicePortfolio').style.display = 'block';
		}
	}),
	$.get({
		url: '/UserAccount/HasRequestMaintenancePermission/@(ServiceCatalogMaintenance.CanEdit)',
		success: function () {
			document.getElementById('RequestMaintenance').style.display = 'block';
		}
	}),
	$.get({
		url: '/UserAccount/HasRoleAdjustmentPermission/@(RolePermissionAdjustment.CanAdjustRolePermissions)',
		success: function () {
			document.getElementById('SystemAccess').style.display = 'block';
		}
	}),
	$.get({
		url: '/UserAccount/HasServiceMaintenancePermission/@(ServiceDetails.CanEditServiceDetails)',
		success: function () {
			document.getElementById('ServiceMaintenance').style.display = 'block';
		}}),
	$.get({
		url: '/UserAccount/HasScriptMaintenancePermission/@(ScriptAccess.CanEdit)',
		success: function () {
			document.getElementById('ScriptMaintenance').style.display = 'block';
		}
	})
	);
</script>