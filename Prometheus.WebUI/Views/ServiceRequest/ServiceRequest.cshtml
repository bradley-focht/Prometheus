@using Prometheus.WebUI.Models.ServiceRequest
@model ServiceRequestModel
@{
    ViewBag.Title = "Service Request";
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewBag.Links = new List<KeyValuePair<string, string>>
    {
        new KeyValuePair<string, string>("Home", "Home"),
        new KeyValuePair<string, string>("Service Request", "@")
    };
}

@using (Html.BeginForm("SubmitNewServiceRequest", "ServiceRequest", FormMethod.Post))
{

    <div class="panel panel-default flex-container-row make-space-bottom">
        <div>Status: </div>
    </div>


    @Html.Partial("PartialViews/ServiceRequestNavigation", new ServiceRequestNavigationModel { SelectedIndex = Model.CurrentIndex, Titles = Model.Titles })

    if (Model.CurrentIndex < 0)
    {
        <div class="dd">
            <div class="dd-row">
                <div class="dt-cell">Requestor</div>
                <div class="dd-cell">@Session["Displayname"]</div>
            </div>
            <div class="dd-row">
                <div class="dt-cell">Requested For</div>
                <div class="dd-cell"></div>
            </div>
            <div class="dd-row">
                <div class="dt-cell">Date Required</div>
                <div></div>
            </div>
            <div class="dd-row">
                <div class="dt-cell">Comments</div>
                <div class="dd-cell">
                    @Html.TextArea("Comments", Model.Comments, new { @class = "ckeditor" })
                    <div class="note">additional requests in comments will not be honoured</div>
                </div>
            </div>
            <div class="dd-row">
                <div class="dt-cell">Office-Use</div>
                <div class="dd-cell">@Html.TextBox("OfficeUseComments", @Model.OfficeUseComments, new { @class = "form-control" })</div>
            </div>
        </div>

        <div>
            <div class="make-space-bottom" style="display: flex; justify-content: flex-end; margin-right: 40px;">
                <div class="make-space-right">
                    @Html.ActionLink("Back", "Form", null, new {@class = "btn btn-default"})
                </div>
                <div>
                    @Html.ActionLink("Next", "Form", null, new { @class = "btn btn-default" })
                </div>
            </div>
        </div>

        <div class="flex-container-col">
            <div class="panel-footer">
                <div class="float-right-div">
                    @Html.ActionLink("Cancel Request", "CancelRequest", new {id = Model.ServiceRequestId}, new {@class="btn btn-danger"})
                    <input type="submit" value="Submit Request" name="SRSubmit" class="btn btn-primary"/>
                </div>
            </div>
        </div>
    }
}

