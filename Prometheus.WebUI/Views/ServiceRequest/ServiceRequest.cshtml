@using Prometheus.WebUI.Models.ServiceRequest
@model ServiceRequestModel
@{
    ViewBag.Title = "Service Request";
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewBag.Links = new List<KeyValuePair<string, string>>
    {
        new KeyValuePair<string, string>("Home", "Home"),
        new KeyValuePair<string, string>("Service Request", "#")
    };

    var submitAction = Model.CurrentIndex < 0 ? "SaveInfo" : "SaveData";            //post operation to perform
}



@using (Html.BeginForm(submitAction, "ServiceRequest", FormMethod.Post))
{
    <input type="hidden" name="id" value="@Model.ServiceRequestId"/>

    <div class="panel panel-default flex-container-row make-space-bottom">
        <div>Status: </div>
    </div>


    @Html.Partial("PartialViews/ServiceRequestNavigation", new ServiceRequestNavigationModel { SelectedIndex = Model.CurrentIndex, Titles = Model.Package.ServiceOptionCategories })

    if (Model.CurrentIndex < 0)
    {
        <div class="panel-div">
            @Html.Partial("PartialViews/ServiceRequestInfo")


            <div class="make-space-bottom" style="display: flex; justify-content: flex-end; margin-right: 40px;">
                <div class="make-space-right">
                    @if (Model.CurrentIndex > 0)
                    {
                        <button name="@(Model.CurrentIndex - 1)" class="btn btn-default">Back</button>
                    }
                </div>
                <div>
                    <button name="@(Model.CurrentIndex + 1)" class="btn btn-default">Next</button>
                </div>
            </div>

        </div>

        <div class="flex-container-col">
            <div class="panel-footer">
                <div class="float-right-div">
                    @Html.ActionLink("Cancel Request", "CancelRequest", new {id = Model.ServiceRequestId}, new {@class="btn btn-danger"})
                    <input type="submit" value="Submit Request" name="SRSubmit" class="btn btn-primary"/>
                </div>
            </div>
        </div>
    }
}

