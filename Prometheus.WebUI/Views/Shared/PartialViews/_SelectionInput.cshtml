@using Common.Enums
@using Prometheus.WebUI.Helpers
@model Prometheus.WebUI.Models.Shared.InputModel<Common.Dto.SelectionInputDto>


<input type="hidden" name="@(Model.ControlName)Name" value="@(StringHelper.RemoveSpaces(Model.Control.DisplayName))" />
<input type="hidden" name="@(Model.ControlName)Type" value="@(UserInputTypes.Selection))" />
<input type="hidden" name="@(Model.ControlName)Id" value="@(Model.Id))" />
<input type="hidden" name="@(Model.ControlName)InputId" value="@(Model.Control.Id))" />
@Html.TextBox($"{Model.ControlName}Value", null, new { id = StringHelper.RemoveSpaces(Model.Control.DisplayName), style = "max-width: 350px;", @class="form-control" })


<script type="text/javascript" language="javascript">
    $('#@(StringHelper.RemoveSpaces(Model.Control.DisplayName))')
        .selectize({
            plugins: ['remove_button'],
            delimiter: '@Html.Raw(Model.Control.Delimiter)',
            valueField: 'value',
            labelField: 'label',
            persist: false,
            maxItems: @(Model.Control.NumberToSelect),
            options: [ @Html.Raw(StringHelper.ConvertStringtoJsValLabelArray(Model.Control.SelectItems, ',')) ]
        });
</script>