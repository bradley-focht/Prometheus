@using Common.Dto
@model Prometheus.WebUI.Models.Service.ServiceModel
@{
    Layout = "~/Views/Shared/_SidebarLayout.cshtml";
    ViewBag.Title = Model.Service.Name;

    ViewBag.Links = new List<KeyValuePair<string, string>> { new KeyValuePair<string, string>("Home", "Home"),
                                                             new KeyValuePair<string, string>("View Services", "Service/Index"),
                                                             new KeyValuePair<string, string>(ViewBag.Title, "#")};

    bool controlAvail = false;

}

@section Content
    {
    @if (Model.Service.Id > 0)
    {
        <div class="std-div">
            <div class="panel-heading">
                @Html.Action("ShowNav", new { id = Model.Service.Id, section = Model.SelectedSection })
            </div>
   


                @switch (Model.SelectedSection)
                {
                    case null:
                        goto case "General";
                    case "Documents":
                        @Html.Partial("PartialViews/ShowDocuments", (ServiceDto) Model.Service)
                        
                        break;
                    case "General":
                        @Html.Partial("PartialViews/ShowGeneral", (ServiceDto) Model.Service)
                        controlAvail = true;
                        break;
                    default:
                        @Html.Action("ShowService" + Model.SelectedSection, Model)
                        controlAvail = true;
                        break;
                }


      
            @if (controlAvail)
            {
                <div class="panel-footer">
                    &nbsp;
                    <div class="float-right-div">

                        @if (Model.SelectedSection == "General" || Model.SelectedSection == null)
                        {
                            @Html.ActionLink("Update", "UpdateGeneral", new {id = Model.Service.Id}, new {@class = "btn btn-primary"})
                        }
                        else
                        {
                            @Html.ActionLink("Add", "AddServiceSectionItem", new {id = Model.Service.Id, section = Model.SelectedSection}, new {@class = "btn btn-primary"})
                        }
                    </div>
                </div>
            }

        </div>
    }
}
}

@section Sidebar
{
    @Html.Action("ShowServiceList", Model.Service.Id)
}
