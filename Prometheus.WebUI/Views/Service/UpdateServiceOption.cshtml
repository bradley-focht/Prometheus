@model Prometheus.WebUI.Models.Service.ServiceOptionModel
@{
	Layout = "~/Views/Shared/_SidebarLayout.cshtml";
	ViewBag.Title = "Services";

	ViewBag.SubTitle = $"{Model.Action} Option";

	ViewBag.Links = new List<KeyValuePair<string, string>>
		{
			new KeyValuePair<string, string>("Home", "Home"),
			new KeyValuePair<string, string>("Services", "Service/Index"),
			new KeyValuePair<string, string>(Model.ServiceName, "Service/Show/Options/" + Model.Option.ServiceId),
			new KeyValuePair<string, string>(ViewBag.SubTitle, "#")
		};
}

@section Content{


	<div class="title-div">@ViewBag.SubTitle</div>

	@using (Html.BeginForm("SaveOptionsItem", "Service", FormMethod.Post, new { enctype = "multipart/form-data" }))
	{
		<input type="hidden" name="Id" value="@Model.Option.Id" />
		<input type="hidden" name="ServiceId" value="@Model.Option.ServiceId" />
		<div class="panel">
			<table>
				<tr>
					<td class="dt-cell">
						Name
					</td>
					<td class="dd-cell">
						@Html.TextBox("Name", Model.Option.Name, new { @class = "form-control" })
						@Html.ValidationMessageFor(m => Model.Name)
					</td>
				</tr>

				<tr>
					<td class="dt-cell">Business Value</td>
					<td class="dd-cell">@Html.TextArea("BusinessValue", Model.Option.BusinessValue, new { @class = "ckeditor" })</td>
				</tr>

				<tr>
					<td class="dt-cell">Description</td>
					<td class="dd-cell">@Html.TextArea("Description", Model.Option.Description, new { @class = "ckeditor" })</td>
				</tr>

				<tr>
					<td class="dt-cell">
						Cost
					</td>
					<td class="dd-cell">
						<div class="input-group">
							<span class="input-group-addon">
								<i class="fa fa-usd" aria-hidden="true"></i>
							</span>
							@Html.TextBox("Cost", $"{Model.Option.Cost:0.00}", new {@class = "form-control form-money"})

						</div>
						@Html.ValidationMessageFor(m => Model.Cost)
					</td>
				</tr>

				<tr>
					<td class="dt-cell">Up Front Price</td>
					<td class="dd-cell">

						<div class="input-group">
							<span class="input-group-addon">
								<i class="fa fa-usd" aria-hidden="true"></i>
							</span>
							@Html.TextBox("PriceUpFront", $"{Model.Option.PriceUpFront:0.00}", new {@class = "form-control form-money"})
						</div>
						@Html.ValidationMessageFor(m => Model.PriceUpFront)
					</td>
				</tr>

				<tr>
					<td class="dt-cell">Monthly Price</td>
					<td class="dd-cell">

						<div class="input-group">
							<span class="input-group-addon">
								<i class="fa fa-usd" aria-hidden="true"></i>
							</span>
							@Html.TextBox("PriceMonthly", $"{Model.PriceMonthly:0.00}", new { @class = "form-control form-money" })
							@Html.ValidationMessageFor(m => Model.PriceMonthly)
						</div>
					</td>
				</tr>
				<tr>
					<td class="dt-cell">Picture</td>
					<td class="dd-cell">
						<input type="hidden" name="Picture" value="@Model.Option.Picture"/>

						<div style="position: relative">
							<a class="btn" href="javascript:;">
								Choose file
								<input type="file" name="Image" size="40" style="position: absolute; z-index: 2; top: 0; left: 0; filter: alpha(opacity=0); opacity: 0; background-color: transparent; color: transparent;" onchange='$("#upload-file-info").html($(this).val());'/>
							</a>
							<span class="label label-info" id="upload-file-info"></span>
						</div>
						<div>
							@if (Model.Option.Picture == null)
							{
								<div class="form-control-static">No Image</div>
							}
							else
							{
								<img class="img-thumbnail" width="150" height="150" src="@Url.Action("GetOptionPicture", new {id = Model.Option.Id})"/>
							}
						</div>
					</td>
				</tr>
				<tr>
					<td class="dt-cell">Category</td>
					<td class="dd-cell">@Html.DropDownList("CategoryId", Model.OptionCategories, new { placeholder = "Category..." })</td>
				</tr>
			</table>

		</div>
		<div class="flex-container">
			<div class="panel-footer">
				<div class="float-right-div">
					@if (Model.Action != null && Model.Action == "Update")
					{
						@Html.ActionLink("Back", "ShowServiceOption", new { id = Model.Option.Id }, new { @class = "btn btn-default btn-back" })
					}
					else
					{
						@Html.ActionLink("Back", "Show", new { id = Model.Option.ServiceId, section = "Options" }, new { @class = "btn btn-default btn-back" })
					}
					<input type="submit" value="Save" id="Save" class="btn btn-primary" />
				</div>
			</div>
		</div>

	}

	<script type="text/javascript" language="javascript">
		$('#Popularity').selectize({
				maxItems: 1
			});
		$('#CategoryId').selectize({
			maxItems: 1
			});
	</script>

}


@section Sidebar
{}