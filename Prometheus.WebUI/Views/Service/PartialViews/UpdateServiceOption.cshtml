@model Common.Dto.ServiceOptionDto

<input type="hidden" name="Id" value="@Model.Id" />
<input type="hidden" name="ServiceId" value="@Model.ServiceId" />

<table>
    @foreach (var property in ViewData.ModelMetadata.Properties)
    {

        if (property.PropertyName == "Cost")
        {
            <tr>
                <td class="dt-cell">
                    Cost
                </td>
                <td class="dd-cell">
                    <div class="input-group">
                        <span class="input-group-addon">
                            $
                        </span>
                        @Html.TextBox(property.PropertyName, property.Model, new {@class = "form-control"})
                    </div>
                </td>

            </tr>
        }
        else if (property.PropertyName == "Prices")
        {
            <tr>
                <td class="dt-cell">Price</td>
                <td class="dd-cell">
                    <div class="flex-col">
                        <div class="flex-row">
                            <div style="flex: 1;">One time</div>
                            <div style="flex: 3; margin-bottom: 10px;">
                                <div class="input-group">
                                    <span class="input-group-addon">
                                        $
                                    </span>
                                    @Html.TextBox("Prices[0]", property.Model, new {@class = "form-control form-money"})
                                </div>
                            </div>
                        </div>
                        <div class="flex-row">
                            <div style="flex: 1;">Monthly</div>
                            <div style="flex: 3; margin-bottom: 10px;">
                                <div class="input-group">
                                    <span class="input-group-addon">
                                        $
                                    </span>
                                    @Html.TextBox("Prices[1]", property.Model, new {@class = "form-control form-money"})
                                </div>
                            </div>
                        </div>
                        <div class="flex-row">
                            <div style="flex: 1;">Yearly</div>
                            <div style="flex: 3;">
                                <div class="input-group">
                                    <span class="input-group-addon">
                                        $
                                    </span>
                                    @Html.TextBox("Prices[2]", property.Model, new {@class = "form-control form-money"})
                                </div>
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        }
        else if (property.PropertyName == "Popularity")
        {
            <tr>
                <td class="dt-cell">Popularity</td>
            <td class="dd-cell">@Html.DropDownList("Popularity", Enumerable.Range(1, 3).Select(i => new SelectListItem { Text = i.ToString(), Value = i.ToString() }), new {style="width:60px;"})</td>
            </tr>
            
        }

        else if (!property.PropertyName.Contains("Id") && !property.PropertyName.Contains("Date")) //remove Ids and SWOT activities
        {
            <tr>
                <td class="dt-cell">@(property.DisplayName ?? property.PropertyName)</td>
                @if (property.PropertyName == "Description" || property.PropertyName == "BusinessValue")
            {
                    <td class="dd-cell">@Html.TextArea(property.PropertyName, new {@class = "ckeditor"})</td>
                }

                else
                {
                    <td class="dd-cell">
                        @Html.TextBox(property.PropertyName, property.Model, null, new {@class = "form-control"})
                        @Html.ValidationMessage(property.PropertyName)
                    </td>
                }
            </tr>
        }

    }

</table>

<script type="text/javascript" language="javascript">  
    $('#Popularity')
            .selectize({
                maxItems: 1
            });
</script>